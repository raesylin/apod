(function(t){function e(e){for(var a,i,s=e[0],c=e[1],u=e[2],d=0,f=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/apod/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"01f7":function(t,e,n){},"0560":function(t,e,n){},"0fb9":function(t,e,n){"use strict";var a=n("251b"),r=n.n(a);r.a},"21bb":function(t,e,n){"use strict";var a=n("2dad"),r=n.n(a);r.a},"251b":function(t,e,n){},"27fb":function(t,e,n){},"2b35":function(t,e,n){"use strict";var a=n("27fb"),r=n.n(a);r.a},"2d4e":function(t,e,n){"use strict";var a=n("6e2b"),r=n.n(a);r.a},"2dad":function(t,e,n){},3312:function(t,e,n){},"53d7":function(t,e,n){"use strict";var a=n("01f7"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("ecee"),o=n("c074"),i=n("b702"),s=n("f2d1"),c=n("ad3d"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},l=[],d=n("2f62"),f=(n("99af"),n("d3b7"),n("ac1f"),n("25f0"),n("466d"),n("4d90"),n("1276"),n("3835")),p=(n("4d63"),"eDPVcxeGKAu9cLMSsn9MEIMnvjOtvSmKABqngm6m"),m=new RegExp(/[0-9]{4}-[0-1]{1}[0-9]{1}-[0-3]{1}[0-9]{1}/g),v=1e4,h={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},_=["01","02","03","04","05","06","07","08","09","10","11","12"],g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"iso";if("string"===typeof t){var n=t.match(m);if(n){var a=t.split("-"),r=Object(f["a"])(a,3),o=r[0],i=r[1],s=r[2];if("intl"===e){var c=h[i],u=parseInt(s,10);return"".concat(u," ").concat(c,", ").concat(o)}return"".concat(o,"-").concat(i,"-").concat(s)}return t}throw Error("Date format not supported")},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"iso";if(t instanceof Date){var n=t.getFullYear(),a=_[t.getMonth()],r=t.getDate().toString();if("intl"===e){var o=h[a];return"".concat(r," ").concat(o,", ").concat(n)}var i=1===r.length?r.padStart(2,"0"):r;return console.log(i),"".concat(n,"-").concat(a,"-").concat(i)}return t.toString()},w=function(t){var e=t.match(m);if(e){var n=t.split("-"),a=Object(f["a"])(n,3),r=a[0],o=a[1],i=a[2],s=parseInt(o,10)-1,c=parseInt(i,10);return new Date(r,s,c)}return new Date(t)},y={methods:{goPrev:function(){var t=w(this.$route.params.date),e=new Date(t.setDate(t.getDate()-1));this.$router.push({name:"Home",params:{date:b(e)}})},goNext:function(){var t=b(),e=w(this.$route.params.date);if(t!==b(e)){var n=new Date(e.setDate(e.getDate()+1));this.$router.push({name:"Home",params:{date:b(n)}})}}}},x={mixins:[y],created:function(){var t=this;window.addEventListener("keyup",(function(e){"ArrowLeft"===e.key?t.goPrev():"ArrowRight"===e.key&&t.goNext()}))},methods:Object(d["b"])(["toggleCanvas","setLoadingTimeout","clearLoadingTimeout"]),destroyed:function(){this.clearLoadingTimeout()}},O=x,T=(n("5c0b"),n("2877")),C=Object(T["a"])(O,u,l,!1,null,null,null),E=C.exports,k=n("8c4f"),D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home",style:{backgroundImage:"url("+t.meta.hdurl+"), url("+t.meta.url+")"}},[n("Canvas",{attrs:{isExpanded:t.isExpanded,title:t.meta.title,copyright:t.meta.copyright}},["image"===t.meta.media_type?n("ImageWrapper",{attrs:{slot:"media"},slot:"media"}):n("VideoWrapper",{attrs:{slot:"media",url:t.meta.url},slot:"media"})],1),n("Meta",{attrs:{meta:t.meta,isCollapsed:t.isExpanded}}),n("Footer")],1)},j=[],S=(n("96cf"),n("1da1")),A=n("5530"),I=function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e,n){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,n);case 2:if(a=t.sent,r=a.status,!(r>=400)){t.next=6;break}throw new Error(a.message||"Error");case 6:return t.abrupt("return",a.json());case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),P={getPicData:function(t){return Object(S["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="https://api.nasa.gov/planetary/apod?api_key=".concat(p,"&date=").concat(t),e.next=3,I(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))()}};a["a"].use(d["a"]);var M=new d["a"].Store({state:{isExpanded:!1,meta:{},loadingTimeout:null},mutations:{SET_IS_EXPANDED:function(t,e){t.isExpanded=e},SET_PIC_METADATA:function(t,e){t.meta=e},CLEAR_LOADING_TIMEOUT:function(t){clearTimeout(t.loadingTimeout),t.loadingTimeout=null},SET_LOADING_TIMEOUT:function(t,e){t.loadingTimeout=e,console.log(t.loadingTimeout)}},actions:{toggleCanvas:function(t,e){var n=t.commit;n("SET_IS_EXPANDED",e)},fetchPicMeta:function(t,e){return Object(S["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,n.next=3,P.getPicData(e);case 3:r=n.sent,a("SET_PIC_METADATA",r);case 5:case"end":return n.stop()}}),n)})))()},clearLoadingTimeout:function(t){var e=t.commit;e("CLEAR_LOADING_TIMEOUT")},setLoadingTimeout:function(t,e){var n=t.commit;n("SET_LOADING_TIMEOUT",e)}},modules:{}}),R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["canvas",{"canvas--expanded":t.isExpanded}],on:{mouseenter:function(e){t.isHovered=!0},mouseleave:function(e){t.isHovered=!1}}},[t._t("media"),n("div",{staticClass:"canvas__text"},[t.copyright?n("span",{staticClass:"canvas__copyright"},[t._v("Â© "+t._s(t.copyright))]):t._e(),n("h1",{class:["canvas__title",{"canvas__title--show":t.isHovered&&t.isExpanded}]},[t._v(" "+t._s(t.title)+" ")])]),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isHovered,expression:"isHovered"}],staticClass:"canvas__nav canvas__nav--left",on:{click:t.goPrev}},[n("font-awesome-icon",{attrs:{icon:["fas","chevron-left"]}})],1)]),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isHovered&&!t.isToday,expression:"isHovered && !isToday"}],staticClass:"canvas__nav canvas__nav--right",on:{click:t.goNext}},[n("font-awesome-icon",{attrs:{icon:["fas","chevron-right"]}})],1)]),n("div",{staticClass:"canvas__toggle",on:{click:function(){t.toggleCanvas(!t.isExpanded)}}},[n("font-awesome-icon",{class:["canvas__toggle-arrow",{"canvas__toggle-arrow--rotated":t.isExpanded}],attrs:{icon:["fas","long-arrow-alt-right"]}})],1)],2)},$=[],H={mixins:[y],data:function(){return{isHovered:!1,today:b()}},props:{isExpanded:{type:Boolean,default:!1},title:{type:String,default:"Astronomy Picture of the Day"},copyright:{type:String,required:!1}},computed:{isToday:function(){return this.$route.params.date===this.today}},methods:Object(A["a"])({},Object(d["b"])(["toggleCanvas"]))},L=H,F=(n("875a"),Object(T["a"])(L,R,$,!1,null,null,null)),N=F.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["footer",{"footer--hidden":t.isHidden}]},[n("div",{staticClass:"footer__toggle",on:{click:t.toggleFooter}},[t.isHidden?n("font-awesome-icon",{attrs:{icon:["fas","angle-double-up"]}}):n("font-awesome-icon",{attrs:{icon:["fas","angle-double-down"]}})],1),n("div",{staticClass:"footer__content"},[n("h1",{staticClass:"footer__title"},[n("router-link",{attrs:{to:"/"}},[t._v("Astronomy Picture of the Day")])],1),t._m(0),t._m(1),n("Calendar",{staticClass:"footer__calendar"})],1)])},U=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"footer__sub"},[t._v(" Source: "),n("a",{staticClass:"footer__link",attrs:{href:"https://api.nasa.gov/",target:"_blank"}},[t._v("NASA")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"footer__sub"},[t._v(" Redesign and development: "),n("a",{staticClass:"footer__link",attrs:{href:"https://raesylin.github.io",target:"_blank"}},[t._v("Rachel Lin")])])}],G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"calendar"},[n("label",{staticClass:"calendar__label",attrs:{for:"calendar-input",title:"Today"},on:{click:t.goToToday}},[n("font-awesome-icon",{attrs:{icon:["far","calendar"]}})],1),n("DatePicker",{attrs:{"wrapper-class":"calendar__vdp-wrapper","calendar-class":"calendar__vdp-calendar","input-class":"calendar__vdp-input",value:t.currentDate,format:"dd MMM, yyyy","disabled-dates":t.disabledDates},on:{selected:t.handleDateSelected}})],1)},J=[],q=n("fa33"),K={components:{DatePicker:q["a"]},data:function(){return{disabledDates:{from:new Date}}},computed:{currentDate:function(){return w(this.$route.params.date||void 0)}},methods:Object(A["a"])({handleDateSelected:function(t){this.$router.push({name:"Home",params:{date:b(t)}}),this.toggleCanvas(!1)},goToToday:function(){this.$router.push({path:"/"})}},Object(d["b"])(["toggleCanvas"]))},W=K,V=(n("e611"),Object(T["a"])(W,G,J,!1,null,null,null)),X=V.exports,z={components:{Calendar:X},data:function(){return{isHidden:!1}},created:function(){var t=this,e=!1;e||setTimeout((function(){t.isHidden=!0}),v)},methods:Object(A["a"])({toggleFooter:function(){this.isHidden=!this.isHidden}},Object(d["b"])(["clearLoadingTimout"]))},Y=z,Q=(n("53d7"),Object(T["a"])(Y,B,U,!1,null,null,null)),Z=Q.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide-right"}},[n("div",{class:["meta",{"meta--collapsed":t.isCollapsed}]},[n("span",{staticClass:"meta__sub"},[t._v(t._s(t.intlDate))]),n("h3",{staticClass:"meta__title"},[t._v(t._s(t.meta.title))]),n("p",{staticClass:"meta__explanation"},[t._v(t._s(t.meta.explanation))]),n("div",{staticClass:"meta__interaction"},[n("Interaction",{attrs:{url:t.meta.hdurl||t.meta.url,title:t.meta.title}})],1)])])},et=[],nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"interaction"},[n("Tooltip",{attrs:{text:"Download HD Image"}},[t.url?n("span",{staticClass:"interaction__tile"},[n("a",{staticClass:"interaction__link",attrs:{href:t.url,download:t.url,title:"Download HD image"}},[n("font-awesome-icon",{attrs:{icon:["fas","download"]}})],1)]):t._e()]),n("Tooltip",{attrs:{text:"Share on Twitter"}},[n("span",{staticClass:"interaction__tile",attrs:{title:"Share on Twitter"}},[n("a",{staticClass:"interaction__link",attrs:{href:t.twitterLink,"data-size":"large",target:"_blank"}},[n("font-awesome-icon",{attrs:{icon:["fab","twitter"]}})],1)])]),n("Tooltip",{attrs:{text:"Share on Facebook"}},[n("span",{staticClass:"interaction__tile",attrs:{title:"Share on Facebook"},on:{click:t.shareOnFacebook}},[n("font-awesome-icon",{attrs:{icon:["fab","facebook"]}})],1)])],1)},at=[],rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["tooltip",t.modClass],on:{mouseenter:function(e){t.isActive=!0},mouseleave:function(e){t.isActive=!1}}},[t._t("default"),n("div",{class:["tooltip__text",t.modTextClass]},[t._v(" "+t._s(t.text)+" ")])],2)},ot=[],it={data:function(){return{isActive:!1}},props:{text:{type:String,required:!1},position:{type:String,default:"top"}},computed:{modClass:function(){return"tooltip--".concat(this.position)},modTextClass:function(){return this.isActive?"tooltip__text--active":null}},created:function(){console.log("here")}},st=it,ct=(n("0fb9"),Object(T["a"])(st,rt,ot,!1,null,null,null)),ut=ct.exports,lt={components:{Tooltip:ut},props:{url:{type:String,default:"Astronomy Picture of the Day"},title:{type:String,default:""}},computed:{twitterLink:function(){return"https://twitter.com/intent/tweet?text=".concat(this.title,"&url=").concat(window.location.href)}},methods:{shareOnFacebook:function(){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadFBSDK(document,"script","facebook-jssdk");case 2:return e.next=4,t.initFB();case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})))()},loadFBSDK:function(t,e,n){return Object(S["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=t.getElementsByTagName(e)[0],!t.getElementById(n)){a.next=3;break}return a.abrupt("return");case 3:o=t.createElement(e),o.id=n,o.src="https://connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(o,r);case 7:case"end":return a.stop()}}),a)})))()},initFB:function(){return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:window.fbAsyncInit=function(){window.FB.init({appId:"238897593157013",xfbml:!0,version:"v8.0"}),window.FB.ui({method:"share",href:window.location.href},(function(t){console.log("here",t)}))};case 1:case"end":return t.stop()}}),t)})))()}}},dt=lt,ft=(n("770d"),Object(T["a"])(dt,nt,at,!1,null,null,null)),pt=ft.exports,mt={components:{Interaction:pt},props:{meta:{type:Object,default:function(){return{}}},isCollapsed:{type:Boolean,default:!1}},computed:{intlDate:function(){return g(this.meta.date,"intl")}}},vt=mt,ht=(n("2b35"),Object(T["a"])(vt,tt,et,!1,null,null,null)),_t=ht.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"image-wrapper",style:{backgroundImage:"url("+t.url+")"}})},bt=[],wt={props:{url:{type:String,default:""}}},yt=wt,xt=(n("2d4e"),Object(T["a"])(yt,gt,bt,!1,null,null,null)),Ot=xt.exports,Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"video-wrapper"},[n("iframe",{staticClass:"video-wrapper__frame",attrs:{src:t.url,frameborder:"0"}})])},Ct=[],Et={props:{url:{type:String,default:""}}},kt=Et,Dt=(n("c70d"),Object(T["a"])(kt,Tt,Ct,!1,null,null,null)),jt=Dt.exports,St={components:{Canvas:N,Footer:Z,Meta:_t,ImageWrapper:Ot,VideoWrapper:jt},props:{date:{type:String,required:!1}},computed:Object(A["a"])({},Object(d["c"])(["isExpanded","meta"])),beforeRouteUpdate:function(t,e,n){return Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.dispatch("fetchPicMeta",t.params.date);case 3:n(),e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log("error fetching pic meta",e.t0),n(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()},created:function(){M.dispatch("fetchPicMeta",this.date)}},At=St,It=(n("21bb"),Object(T["a"])(At,D,j,!1,null,null,null)),Pt=It.exports;a["a"].use(k["a"]);var Mt=[{path:"/",redirect:function(){return"/date/".concat(b())}},{path:"/date/:date",name:"Home",component:Pt,props:!0},{path:"*",redirect:"/"}],Rt=new k["a"]({mode:"hash",base:"/apod/",routes:Mt}),$t=Rt;r["c"].add(o["c"],o["d"],o["g"],o["f"],i["a"],o["b"],o["a"],o["e"],s["b"],s["a"]),a["a"].component("font-awesome-icon",c["a"]),a["a"].config.productionTip=!1,new a["a"]({router:$t,store:M,render:function(t){return t(E)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},"6e2b":function(t,e,n){},"770d":function(t,e,n){"use strict";var a=n("8e40"),r=n.n(a);r.a},"875a":function(t,e,n){"use strict";var a=n("ed2e"),r=n.n(a);r.a},"8e40":function(t,e,n){},"9c0c":function(t,e,n){},c70d:function(t,e,n){"use strict";var a=n("3312"),r=n.n(a);r.a},e611:function(t,e,n){"use strict";var a=n("0560"),r=n.n(a);r.a},ed2e:function(t,e,n){}});
//# sourceMappingURL=app.8fd16d87.js.map