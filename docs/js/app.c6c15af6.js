(function(t){function e(e){for(var n,i,s=e[0],c=e[1],u=e[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},o=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/apod/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"01f7":function(t,e,a){},"0560":function(t,e,a){},"21bb":function(t,e,a){"use strict";var n=a("2dad"),r=a.n(n);r.a},"27fb":function(t,e,a){},"2b35":function(t,e,a){"use strict";var n=a("27fb"),r=a.n(n);r.a},"2d4e":function(t,e,a){"use strict";var n=a("6e2b"),r=a.n(n);r.a},"2dad":function(t,e,a){},3312:function(t,e,a){},"53d7":function(t,e,a){"use strict";var n=a("01f7"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=a("ecee"),o=a("c074"),i=a("b702"),s=a("ad3d"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},u=[],l=a("2f62"),d=(a("99af"),a("d3b7"),a("ac1f"),a("25f0"),a("466d"),a("4d90"),a("1276"),a("3835")),p=(a("4d63"),"eDPVcxeGKAu9cLMSsn9MEIMnvjOtvSmKABqngm6m"),f=new RegExp(/[0-9]{4}-[0-1]{1}[0-9]{1}-[0-3]{1}[0-9]{1}/g),v=3e3,m={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},g=["01","02","03","04","05","06","07","08","09","10","11","12"],h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"iso";if("string"===typeof t){var a=t.match(f);if(a){var n=t.split("-"),r=Object(d["a"])(n,3),o=r[0],i=r[1],s=r[2];if("intl"===e){var c=m[i],u=parseInt(s,10);return"".concat(u," ").concat(c,", ").concat(o)}return"".concat(o,"-").concat(i,"-").concat(s)}return t}throw Error("Date format not supported")},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"iso";if(t instanceof Date){var a=t.getFullYear(),n=g[t.getMonth()],r=t.getDate().toString();if("intl"===e){var o=m[n];return"".concat(r," ").concat(o,", ").concat(a)}var i=1===r.length?r.padStart(2,"0"):r;return console.log(i),"".concat(a,"-").concat(n,"-").concat(i)}return t.toString()},b=function(t){var e=t.match(f);if(e){var a=t.split("-"),n=Object(d["a"])(a,3),r=n[0],o=n[1],i=n[2],s=parseInt(o,10)-1,c=parseInt(i,10);return new Date(r,s,c)}return new Date(t)},w={methods:{goPrev:function(){var t=b(this.$route.params.date),e=new Date(t.setDate(t.getDate()-1));this.$router.push({name:"Home",params:{date:_(e)}})},goNext:function(){var t=_(),e=b(this.$route.params.date);if(t!==_(e)){var a=new Date(e.setDate(e.getDate()+1));this.$router.push({name:"Home",params:{date:_(a)}})}}}},y={mixins:[w],created:function(){var t=this;window.addEventListener("keyup",(function(e){"ArrowLeft"===e.key?t.goPrev():"ArrowRight"===e.key&&t.goNext()}));var e=setTimeout((function(){t.toggleCanvas(!0)}),v);console.log(e),this.setLoadingTimeout(e)},methods:Object(l["b"])(["toggleCanvas","setLoadingTimeout","clearLoadingTimeout"]),destroyed:function(){this.clearLoadingTimeout()}},x=y,E=(a("5c0b"),a("2877")),O=Object(E["a"])(x,c,u,!1,null,null,null),T=O.exports,C=a("8c4f"),D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home",style:{backgroundImage:"url("+t.meta.hdurl+"), url("+t.meta.url+")"}},[a("Canvas",{attrs:{isExpanded:t.isExpanded,title:t.meta.title,copyright:t.meta.copyright}},["image"===t.meta.media_type?a("ImageWrapper",{attrs:{slot:"media"},slot:"media"}):a("VideoWrapper",{attrs:{slot:"media",url:t.meta.url},slot:"media"})],1),a("Meta",{attrs:{meta:t.meta,isCollapsed:t.isExpanded}}),a("Footer")],1)},j=[],S=(a("96cf"),a("1da1")),k=a("5530"),A=function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e,a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,a);case 2:if(n=t.sent,r=n.status,!(r>=400)){t.next=6;break}throw new Error(n.message||"Error");case 6:return t.abrupt("return",n.json());case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),M={getPicData:function(t){return Object(S["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="https://api.nasa.gov/planetary/apod?api_key=".concat(p,"&date=").concat(t),e.next=3,A(a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))()}};n["a"].use(l["a"]);var P=new l["a"].Store({state:{isExpanded:!1,meta:{},loadingTimeout:null},mutations:{SET_IS_EXPANDED:function(t,e){t.isExpanded=e},SET_PIC_METADATA:function(t,e){t.meta=e},CLEAR_LOADING_TIMEOUT:function(t){clearTimeout(t.loadingTimeout),t.loadingTimeout=null},SET_LOADING_TIMEOUT:function(t,e){t.loadingTimeout=e,console.log(t.loadingTimeout)}},actions:{toggleCanvas:function(t,e){var a=t.commit;a("SET_IS_EXPANDED",e)},fetchPicMeta:function(t,e){return Object(S["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,a.next=3,M.getPicData(e);case 3:r=a.sent,n("SET_PIC_METADATA",r);case 5:case"end":return a.stop()}}),a)})))()},clearLoadingTimeout:function(t){var e=t.commit;e("CLEAR_LOADING_TIMEOUT")},setLoadingTimeout:function(t,e){var a=t.commit;a("SET_LOADING_TIMEOUT",e)}},modules:{}}),I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["canvas",{"canvas--expanded":t.isExpanded}],on:{mouseenter:function(e){t.isHovered=!0},mouseleave:function(e){t.isHovered=!1}}},[t._t("media"),a("div",{staticClass:"canvas__text"},[t.copyright?a("span",{staticClass:"canvas__copyright"},[t._v("Â© "+t._s(t.copyright))]):t._e(),a("h1",{class:["canvas__title",{"canvas__title--show":t.isHovered&&t.isExpanded}]},[t._v(" "+t._s(t.title)+" ")])]),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isHovered,expression:"isHovered"}],staticClass:"canvas__nav canvas__nav--left",on:{click:t.goPrev}},[a("font-awesome-icon",{attrs:{icon:["fas","chevron-left"]}})],1)]),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isHovered&&!t.isToday,expression:"isHovered && !isToday"}],staticClass:"canvas__nav canvas__nav--right",on:{click:t.goNext}},[a("font-awesome-icon",{attrs:{icon:["fas","chevron-right"]}})],1)]),a("div",{staticClass:"canvas__toggle",on:{click:function(){t.toggleCanvas(!t.isExpanded)}}},[a("font-awesome-icon",{class:["canvas__toggle-arrow",{"canvas__toggle-arrow--rotated":t.isExpanded}],attrs:{icon:["fas","long-arrow-alt-right"]}})],1)],2)},$=[],H={mixins:[w],data:function(){return{isHovered:!1,today:_()}},props:{isExpanded:{type:Boolean,default:!1},title:{type:String,default:"Astronomy Picture of the Day"},copyright:{type:String,required:!1}},computed:{isToday:function(){return this.$route.params.date===this.today}},methods:Object(k["a"])({},Object(l["b"])(["toggleCanvas"]))},L=H,R=(a("875a"),Object(E["a"])(L,I,$,!1,null,null,null)),N=R.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["footer",{"footer--hidden":t.isHidden}]},[a("div",{staticClass:"footer__toggle",on:{click:t.toggleFooter}},[t.isHidden?a("font-awesome-icon",{attrs:{icon:["fas","angle-double-up"]}}):a("font-awesome-icon",{attrs:{icon:["fas","angle-double-down"]}})],1),a("div",{staticClass:"footer__content"},[a("h1",{staticClass:"footer__title"},[a("router-link",{attrs:{to:"/"}},[t._v("Astronomy Picture of the Day")])],1),t._m(0),t._m(1),a("Calendar",{staticClass:"footer__calendar"})],1)])},G=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"footer__sub"},[t._v(" Source: "),a("a",{staticClass:"footer__link",attrs:{href:"https://api.nasa.gov/",target:"_blank"}},[t._v("NASA")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"footer__sub"},[t._v(" Redesign and development: "),a("a",{staticClass:"footer__link",attrs:{href:"https://raesylin.github.io",target:"_blank"}},[t._v("Rachel Lin")])])}],J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"calendar"},[a("label",{staticClass:"calendar__label",attrs:{for:"calendar-input",title:"Today"},on:{click:t.goToToday}},[a("font-awesome-icon",{attrs:{icon:["far","calendar"]}})],1),a("DatePicker",{attrs:{"wrapper-class":"calendar__vdp-wrapper","calendar-class":"calendar__vdp-calendar","input-class":"calendar__vdp-input",value:t.currentDate,format:"dd MMM, yyyy","disabled-dates":t.disabledDates},on:{selected:t.handleDateSelected}})],1)},U=[],W=a("fa33"),q={components:{DatePicker:W["a"]},data:function(){return{disabledDates:{from:new Date}}},computed:{currentDate:function(){return b(this.$route.params.date||void 0)}},methods:Object(k["a"])({handleDateSelected:function(t){this.$router.push({name:"Home",params:{date:_(t)}}),this.toggleCanvas(!1)},goToToday:function(){this.$router.push({path:"/"})}},Object(l["b"])(["toggleCanvas"]))},B=q,V=(a("e611"),Object(E["a"])(B,J,U,!1,null,null,null)),K=V.exports,X={components:{Calendar:K},data:function(){return{isHidden:!1}},created:function(){var t=this,e=!1;e||setTimeout((function(){t.isHidden=!0}),v)},methods:Object(k["a"])({toggleFooter:function(){this.isHidden=!this.isHidden}},Object(l["b"])(["clearLoadingTimout"]))},Y=X,z=(a("53d7"),Object(E["a"])(Y,F,G,!1,null,null,null)),Q=z.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"slide-right"}},[a("div",{class:["meta",{"meta--collapsed":t.isCollapsed}]},[a("span",{staticClass:"meta__sub"},[t._v(t._s(t.intlDate))]),a("h3",{staticClass:"meta__title"},[t._v(t._s(t.meta.title))]),a("p",{staticClass:"meta__explanation"},[t._v(t._s(t.meta.explanation))])])])},tt=[],et={props:{meta:{type:Object,default:function(){return{}}},isCollapsed:{type:Boolean,default:!1}},computed:{intlDate:function(){return h(this.meta.date,"intl")}}},at=et,nt=(a("2b35"),Object(E["a"])(at,Z,tt,!1,null,null,null)),rt=nt.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"image-wrapper",style:{backgroundImage:"url("+t.url+")"}})},it=[],st={props:{url:{type:String,default:""}}},ct=st,ut=(a("2d4e"),Object(E["a"])(ct,ot,it,!1,null,null,null)),lt=ut.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"video-wrapper"},[a("iframe",{staticClass:"video-wrapper__frame",attrs:{src:t.url,frameborder:"0"}})])},pt=[],ft={props:{url:{type:String,default:""}}},vt=ft,mt=(a("c70d"),Object(E["a"])(vt,dt,pt,!1,null,null,null)),gt=mt.exports,ht={components:{Canvas:N,Footer:Q,Meta:rt,ImageWrapper:lt,VideoWrapper:gt},props:{date:{type:String,required:!1}},computed:Object(k["a"])({},Object(l["c"])(["isExpanded","meta"])),beforeRouteUpdate:function(t,e,a){return Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.dispatch("fetchPicMeta",t.params.date);case 3:a(),e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log("error fetching pic meta",e.t0),a(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()},created:function(){P.dispatch("fetchPicMeta",this.date)}},_t=ht,bt=(a("21bb"),Object(E["a"])(_t,D,j,!1,null,null,null)),wt=bt.exports;n["a"].use(C["a"]);var yt=[{path:"/",redirect:function(){return"/date/".concat(_())}},{path:"/date/:date",name:"Home",component:wt,props:!0},{path:"*",redirect:"/"}],xt=new C["a"]({mode:"history",base:"/apod/",routes:yt}),Et=xt;r["c"].add(o["c"],o["d"],o["f"],o["e"],i["a"],o["b"],o["a"]),n["a"].component("font-awesome-icon",s["a"]),n["a"].config.productionTip=!1,new n["a"]({router:Et,store:P,render:function(t){return t(T)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},"6e2b":function(t,e,a){},"875a":function(t,e,a){"use strict";var n=a("ed2e"),r=a.n(n);r.a},"9c0c":function(t,e,a){},c70d:function(t,e,a){"use strict";var n=a("3312"),r=a.n(n);r.a},e611:function(t,e,a){"use strict";var n=a("0560"),r=a.n(n);r.a},ed2e:function(t,e,a){}});
//# sourceMappingURL=app.c6c15af6.js.map